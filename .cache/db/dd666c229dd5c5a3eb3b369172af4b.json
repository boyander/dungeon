{"id":"src/actors/Hero.js","dependencies":[{"name":"/home/amargopastor/Documents/dungeon/package.json","includedInParent":true,"mtime":1608207270388}],"generated":{"js":"// import { km } from './ChestManager';\n// export class Hero {\n//     framePos = 0;\n//     time = 0;\n//     constructor(initialPos) {\n//         this.origin = { x: initialPos.x, y: initialPos.y };\n//         this.spritesheet = new Image();\n//         this.spritesheet.src = require(\"../../dungeon/public/images/link.png\");\n//         this.sequences = [\n//             { name: \"still-down\", numFrames: 1, ySeqPos: 0 },\n//             { name: \"still-left\", numFrames: 1, ySeqPos: 1 },\n//             { name: \"still-up\", numFrames: 1, ySeqPos: 2 },\n//             { name: \"still-right\", numFrames: 1, ySeqPos: 3 },\n//             { name: \"moving-down\", numFrames: 10, ySeqPos: 4 },\n//             { name: \"moving-left\", numFrames: 10, ySeqPos: 5 },\n//             { name: \"moving-up\", numFrames: 10, ySeqPos: 6 },\n//             { name: \"moving-right\", numFrames: 10, ySeqPos: 7 },\n//         ];\n//         this.currentSequence = \"down\";\n//         this.speed = { x: 0, y: 0 };\n//     }\n//     draw(delta, ctx) {\n//         const frameSize = { x: 120, y: 130 };\n//         const seqName =\n//             this.speed.x == 0 && this.speed.y == 0\n//                 ? `still-${this.currentSequence}`\n//                 : `moving-${this.currentSequence}`;\n//         const seq = this.sequences.find((s) => s.name == seqName);\n//         if (!seq) throw new Error(\"invalid seq\");\n//         ctx.drawImage(\n//             this.spritesheet,\n//             frameSize.x * this.framePos,\n//             frameSize.y * seq.ySeqPos,\n//             frameSize.x,\n//             frameSize.y,\n//             this.origin.x,\n//             this.origin.y,\n//             frameSize.x-90,\n//             frameSize.y-90\n//         );\n//         this.time += delta;\n//         this.framePos = Math.floor(this.time * 10) % seq.numFrames;\n//     }\n//     update(deltaSeconds) {\n//         let newPosX = (this.origin.x + this.speed.x);\n//         let newPosY = (this.origin.y + this.speed.y);\n//         if (\n//             // Left & right screen limits\n//             newPosX < 480 &&\n//             newPosX > 0 &&\n//             // Up and down screen limits\n//             newPosY < 475 &&\n//             newPosY > 0\n//         ) {\n//             this.origin.x = newPosX;\n//             this.origin.y = newPosY;\n//         }\n//     }\n//     keyboard_event(key) {\n//         switch (key) {\n//             case \"ArrowLeft\":\n//                 this.currentSequence = \"left\";\n//                 this.speed.x = -5;\n//                 // this.origin.x = this.origin.x - this.speed;\n//                 break;\n//             case \"ArrowRight\":\n//                 this.currentSequence = \"right\";\n//                 this.speed.x = 5;\n//                 //this.origin.x = this.origin.x + this.speed;\n//                 break;\n//             case \"ArrowUp\":\n//                 this.currentSequence = \"up\";\n//                 this.speed.y = -5;\n//                 // this.origin.y = this.origin.y - this.speed;\n//                 break;\n//             case \"ArrowDown\":\n//                 this.currentSequence = \"down\";\n//                 this.speed.y = 5;\n//                 // this.origin.y = this.origin.y + this.speed;\n//                 break;\n//             case \"a\":\n//                 this.open();\n//                 break;\n//         }\n//     }\n//     keyboard_event_up(key) {\n//         this.speed.x = 0;\n//         this.speed.y = 0;\n//       }\n//     open() {\n//         let distance = 0;\n//         console.log(\"hola\");\n//         km.keys.forEach((ori) => {\n//             distance = 0;\n//             distance = Math.sqrt(Math.pow(this.origin.x - ori.position.x, 2) + Math.pow(this.origin.y - ori.position.y, 2));\n//             if (distance < 30 && !ori.isChestOpen) {\n//                 switch (km.lastKey) {\n//                     case \"\":\n//                         ori.isChestOpen = true;\n//                         km.lastKey = ori.id;\n//                         break\n//                     case ori.id:\n//                         ori.isChestOpen = true;\n//                         km.lastKey = \"\";\n//                         break\n//                     default:\n//                         km.keys.forEach(e => e.isChestOpen = false);\n//                         km.lastKey = \"\";\n//                         ori.isChestOpen = true;\n//                         km.lastKey = ori.id;\n//                         break\n//                 }\n//             }\n//         });\n//     }\n// }"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":1,"column":0},"source":"src/actors/Hero.js","original":{"line":1,"column":0}},{"generated":{"line":2,"column":0},"source":"src/actors/Hero.js","original":{"line":2,"column":0}},{"generated":{"line":3,"column":0},"source":"src/actors/Hero.js","original":{"line":3,"column":0}},{"generated":{"line":4,"column":0},"source":"src/actors/Hero.js","original":{"line":4,"column":0}},{"generated":{"line":5,"column":0},"source":"src/actors/Hero.js","original":{"line":5,"column":0}},{"generated":{"line":6,"column":0},"source":"src/actors/Hero.js","original":{"line":6,"column":0}},{"generated":{"line":7,"column":0},"source":"src/actors/Hero.js","original":{"line":8,"column":0}},{"generated":{"line":8,"column":0},"source":"src/actors/Hero.js","original":{"line":9,"column":0}},{"generated":{"line":9,"column":0},"source":"src/actors/Hero.js","original":{"line":10,"column":0}},{"generated":{"line":10,"column":0},"source":"src/actors/Hero.js","original":{"line":11,"column":0}},{"generated":{"line":11,"column":0},"source":"src/actors/Hero.js","original":{"line":12,"column":0}},{"generated":{"line":12,"column":0},"source":"src/actors/Hero.js","original":{"line":13,"column":0}},{"generated":{"line":13,"column":0},"source":"src/actors/Hero.js","original":{"line":14,"column":0}},{"generated":{"line":14,"column":0},"source":"src/actors/Hero.js","original":{"line":15,"column":0}},{"generated":{"line":15,"column":0},"source":"src/actors/Hero.js","original":{"line":16,"column":0}},{"generated":{"line":16,"column":0},"source":"src/actors/Hero.js","original":{"line":17,"column":0}},{"generated":{"line":17,"column":0},"source":"src/actors/Hero.js","original":{"line":18,"column":0}},{"generated":{"line":18,"column":0},"source":"src/actors/Hero.js","original":{"line":19,"column":0}},{"generated":{"line":19,"column":0},"source":"src/actors/Hero.js","original":{"line":20,"column":0}},{"generated":{"line":20,"column":0},"source":"src/actors/Hero.js","original":{"line":21,"column":0}},{"generated":{"line":21,"column":0},"source":"src/actors/Hero.js","original":{"line":22,"column":0}},{"generated":{"line":22,"column":0},"source":"src/actors/Hero.js","original":{"line":24,"column":0}},{"generated":{"line":23,"column":0},"source":"src/actors/Hero.js","original":{"line":26,"column":0}},{"generated":{"line":24,"column":0},"source":"src/actors/Hero.js","original":{"line":27,"column":0}},{"generated":{"line":25,"column":0},"source":"src/actors/Hero.js","original":{"line":28,"column":0}},{"generated":{"line":26,"column":0},"source":"src/actors/Hero.js","original":{"line":29,"column":0}},{"generated":{"line":27,"column":0},"source":"src/actors/Hero.js","original":{"line":30,"column":0}},{"generated":{"line":28,"column":0},"source":"src/actors/Hero.js","original":{"line":31,"column":0}},{"generated":{"line":29,"column":0},"source":"src/actors/Hero.js","original":{"line":32,"column":0}},{"generated":{"line":30,"column":0},"source":"src/actors/Hero.js","original":{"line":34,"column":0}},{"generated":{"line":31,"column":0},"source":"src/actors/Hero.js","original":{"line":35,"column":0}},{"generated":{"line":32,"column":0},"source":"src/actors/Hero.js","original":{"line":36,"column":0}},{"generated":{"line":33,"column":0},"source":"src/actors/Hero.js","original":{"line":37,"column":0}},{"generated":{"line":34,"column":0},"source":"src/actors/Hero.js","original":{"line":38,"column":0}},{"generated":{"line":35,"column":0},"source":"src/actors/Hero.js","original":{"line":39,"column":0}},{"generated":{"line":36,"column":0},"source":"src/actors/Hero.js","original":{"line":40,"column":0}},{"generated":{"line":37,"column":0},"source":"src/actors/Hero.js","original":{"line":41,"column":0}},{"generated":{"line":38,"column":0},"source":"src/actors/Hero.js","original":{"line":42,"column":0}},{"generated":{"line":39,"column":0},"source":"src/actors/Hero.js","original":{"line":43,"column":0}},{"generated":{"line":40,"column":0},"source":"src/actors/Hero.js","original":{"line":44,"column":0}},{"generated":{"line":41,"column":0},"source":"src/actors/Hero.js","original":{"line":45,"column":0}},{"generated":{"line":42,"column":0},"source":"src/actors/Hero.js","original":{"line":46,"column":0}},{"generated":{"line":43,"column":0},"source":"src/actors/Hero.js","original":{"line":49,"column":0}},{"generated":{"line":44,"column":0},"source":"src/actors/Hero.js","original":{"line":51,"column":0}},{"generated":{"line":45,"column":0},"source":"src/actors/Hero.js","original":{"line":53,"column":0}},{"generated":{"line":46,"column":0},"source":"src/actors/Hero.js","original":{"line":54,"column":0}},{"generated":{"line":47,"column":0},"source":"src/actors/Hero.js","original":{"line":56,"column":0}},{"generated":{"line":48,"column":0},"source":"src/actors/Hero.js","original":{"line":57,"column":0}},{"generated":{"line":49,"column":0},"source":"src/actors/Hero.js","original":{"line":58,"column":0}},{"generated":{"line":50,"column":0},"source":"src/actors/Hero.js","original":{"line":59,"column":0}},{"generated":{"line":51,"column":0},"source":"src/actors/Hero.js","original":{"line":60,"column":0}},{"generated":{"line":52,"column":0},"source":"src/actors/Hero.js","original":{"line":61,"column":0}},{"generated":{"line":53,"column":0},"source":"src/actors/Hero.js","original":{"line":62,"column":0}},{"generated":{"line":54,"column":0},"source":"src/actors/Hero.js","original":{"line":63,"column":0}},{"generated":{"line":55,"column":0},"source":"src/actors/Hero.js","original":{"line":64,"column":0}},{"generated":{"line":56,"column":0},"source":"src/actors/Hero.js","original":{"line":65,"column":0}},{"generated":{"line":57,"column":0},"source":"src/actors/Hero.js","original":{"line":66,"column":0}},{"generated":{"line":58,"column":0},"source":"src/actors/Hero.js","original":{"line":67,"column":0}},{"generated":{"line":59,"column":0},"source":"src/actors/Hero.js","original":{"line":69,"column":0}},{"generated":{"line":60,"column":0},"source":"src/actors/Hero.js","original":{"line":70,"column":0}},{"generated":{"line":61,"column":0},"source":"src/actors/Hero.js","original":{"line":71,"column":0}},{"generated":{"line":62,"column":0},"source":"src/actors/Hero.js","original":{"line":72,"column":0}},{"generated":{"line":63,"column":0},"source":"src/actors/Hero.js","original":{"line":73,"column":0}},{"generated":{"line":64,"column":0},"source":"src/actors/Hero.js","original":{"line":74,"column":0}},{"generated":{"line":65,"column":0},"source":"src/actors/Hero.js","original":{"line":75,"column":0}},{"generated":{"line":66,"column":0},"source":"src/actors/Hero.js","original":{"line":76,"column":0}},{"generated":{"line":67,"column":0},"source":"src/actors/Hero.js","original":{"line":77,"column":0}},{"generated":{"line":68,"column":0},"source":"src/actors/Hero.js","original":{"line":78,"column":0}},{"generated":{"line":69,"column":0},"source":"src/actors/Hero.js","original":{"line":79,"column":0}},{"generated":{"line":70,"column":0},"source":"src/actors/Hero.js","original":{"line":80,"column":0}},{"generated":{"line":71,"column":0},"source":"src/actors/Hero.js","original":{"line":81,"column":0}},{"generated":{"line":72,"column":0},"source":"src/actors/Hero.js","original":{"line":82,"column":0}},{"generated":{"line":73,"column":0},"source":"src/actors/Hero.js","original":{"line":83,"column":0}},{"generated":{"line":74,"column":0},"source":"src/actors/Hero.js","original":{"line":84,"column":0}},{"generated":{"line":75,"column":0},"source":"src/actors/Hero.js","original":{"line":85,"column":0}},{"generated":{"line":76,"column":0},"source":"src/actors/Hero.js","original":{"line":86,"column":0}},{"generated":{"line":77,"column":0},"source":"src/actors/Hero.js","original":{"line":87,"column":0}},{"generated":{"line":78,"column":0},"source":"src/actors/Hero.js","original":{"line":88,"column":0}},{"generated":{"line":79,"column":0},"source":"src/actors/Hero.js","original":{"line":89,"column":0}},{"generated":{"line":80,"column":0},"source":"src/actors/Hero.js","original":{"line":90,"column":0}},{"generated":{"line":81,"column":0},"source":"src/actors/Hero.js","original":{"line":91,"column":0}},{"generated":{"line":82,"column":0},"source":"src/actors/Hero.js","original":{"line":92,"column":0}},{"generated":{"line":83,"column":0},"source":"src/actors/Hero.js","original":{"line":93,"column":0}},{"generated":{"line":84,"column":0},"source":"src/actors/Hero.js","original":{"line":94,"column":0}},{"generated":{"line":85,"column":0},"source":"src/actors/Hero.js","original":{"line":95,"column":0}},{"generated":{"line":86,"column":0},"source":"src/actors/Hero.js","original":{"line":97,"column":0}},{"generated":{"line":87,"column":0},"source":"src/actors/Hero.js","original":{"line":98,"column":0}},{"generated":{"line":88,"column":0},"source":"src/actors/Hero.js","original":{"line":99,"column":0}},{"generated":{"line":89,"column":0},"source":"src/actors/Hero.js","original":{"line":100,"column":0}},{"generated":{"line":90,"column":0},"source":"src/actors/Hero.js","original":{"line":102,"column":0}},{"generated":{"line":91,"column":0},"source":"src/actors/Hero.js","original":{"line":103,"column":0}},{"generated":{"line":92,"column":0},"source":"src/actors/Hero.js","original":{"line":104,"column":0}},{"generated":{"line":93,"column":0},"source":"src/actors/Hero.js","original":{"line":105,"column":0}},{"generated":{"line":94,"column":0},"source":"src/actors/Hero.js","original":{"line":106,"column":0}},{"generated":{"line":95,"column":0},"source":"src/actors/Hero.js","original":{"line":107,"column":0}},{"generated":{"line":96,"column":0},"source":"src/actors/Hero.js","original":{"line":109,"column":0}},{"generated":{"line":97,"column":0},"source":"src/actors/Hero.js","original":{"line":111,"column":0}},{"generated":{"line":98,"column":0},"source":"src/actors/Hero.js","original":{"line":112,"column":0}},{"generated":{"line":99,"column":0},"source":"src/actors/Hero.js","original":{"line":113,"column":0}},{"generated":{"line":100,"column":0},"source":"src/actors/Hero.js","original":{"line":114,"column":0}},{"generated":{"line":101,"column":0},"source":"src/actors/Hero.js","original":{"line":115,"column":0}},{"generated":{"line":102,"column":0},"source":"src/actors/Hero.js","original":{"line":116,"column":0}},{"generated":{"line":103,"column":0},"source":"src/actors/Hero.js","original":{"line":117,"column":0}},{"generated":{"line":104,"column":0},"source":"src/actors/Hero.js","original":{"line":118,"column":0}},{"generated":{"line":105,"column":0},"source":"src/actors/Hero.js","original":{"line":119,"column":0}},{"generated":{"line":106,"column":0},"source":"src/actors/Hero.js","original":{"line":120,"column":0}},{"generated":{"line":107,"column":0},"source":"src/actors/Hero.js","original":{"line":121,"column":0}},{"generated":{"line":108,"column":0},"source":"src/actors/Hero.js","original":{"line":122,"column":0}},{"generated":{"line":109,"column":0},"source":"src/actors/Hero.js","original":{"line":123,"column":0}},{"generated":{"line":110,"column":0},"source":"src/actors/Hero.js","original":{"line":124,"column":0}},{"generated":{"line":111,"column":0},"source":"src/actors/Hero.js","original":{"line":125,"column":0}},{"generated":{"line":112,"column":0},"source":"src/actors/Hero.js","original":{"line":126,"column":0}},{"generated":{"line":113,"column":0},"source":"src/actors/Hero.js","original":{"line":127,"column":0}},{"generated":{"line":114,"column":0},"source":"src/actors/Hero.js","original":{"line":128,"column":0}},{"generated":{"line":115,"column":0},"source":"src/actors/Hero.js","original":{"line":129,"column":0}},{"generated":{"line":116,"column":0},"source":"src/actors/Hero.js","original":{"line":130,"column":0}}],"sources":{"src/actors/Hero.js":"// import { km } from './ChestManager';\n// export class Hero {\n//     framePos = 0;\n//     time = 0;\n//     constructor(initialPos) {\n//         this.origin = { x: initialPos.x, y: initialPos.y };\n\n//         this.spritesheet = new Image();\n//         this.spritesheet.src = require(\"../../dungeon/public/images/link.png\");\n//         this.sequences = [\n//             { name: \"still-down\", numFrames: 1, ySeqPos: 0 },\n//             { name: \"still-left\", numFrames: 1, ySeqPos: 1 },\n//             { name: \"still-up\", numFrames: 1, ySeqPos: 2 },\n//             { name: \"still-right\", numFrames: 1, ySeqPos: 3 },\n//             { name: \"moving-down\", numFrames: 10, ySeqPos: 4 },\n//             { name: \"moving-left\", numFrames: 10, ySeqPos: 5 },\n//             { name: \"moving-up\", numFrames: 10, ySeqPos: 6 },\n//             { name: \"moving-right\", numFrames: 10, ySeqPos: 7 },\n//         ];\n//         this.currentSequence = \"down\";\n//         this.speed = { x: 0, y: 0 };\n//     }\n\n//     draw(delta, ctx) {\n\n//         const frameSize = { x: 120, y: 130 };\n//         const seqName =\n//             this.speed.x == 0 && this.speed.y == 0\n//                 ? `still-${this.currentSequence}`\n//                 : `moving-${this.currentSequence}`;\n//         const seq = this.sequences.find((s) => s.name == seqName);\n//         if (!seq) throw new Error(\"invalid seq\");\n\n//         ctx.drawImage(\n//             this.spritesheet,\n//             frameSize.x * this.framePos,\n//             frameSize.y * seq.ySeqPos,\n//             frameSize.x,\n//             frameSize.y,\n//             this.origin.x,\n//             this.origin.y,\n//             frameSize.x-90,\n//             frameSize.y-90\n//         );\n//         this.time += delta;\n//         this.framePos = Math.floor(this.time * 10) % seq.numFrames;\n\n        \n//     }\n\n//     update(deltaSeconds) {\n\n//         let newPosX = (this.origin.x + this.speed.x);\n//         let newPosY = (this.origin.y + this.speed.y);\n\n//         if (\n//             // Left & right screen limits\n//             newPosX < 480 &&\n//             newPosX > 0 &&\n//             // Up and down screen limits\n//             newPosY < 475 &&\n//             newPosY > 0\n//         ) {\n//             this.origin.x = newPosX;\n//             this.origin.y = newPosY;\n//         }\n//     }\n\n//     keyboard_event(key) {\n//         switch (key) {\n//             case \"ArrowLeft\":\n//                 this.currentSequence = \"left\";\n//                 this.speed.x = -5;\n//                 // this.origin.x = this.origin.x - this.speed;\n//                 break;\n//             case \"ArrowRight\":\n//                 this.currentSequence = \"right\";\n//                 this.speed.x = 5;\n//                 //this.origin.x = this.origin.x + this.speed;\n//                 break;\n//             case \"ArrowUp\":\n//                 this.currentSequence = \"up\";\n//                 this.speed.y = -5;\n//                 // this.origin.y = this.origin.y - this.speed;\n//                 break;\n//             case \"ArrowDown\":\n//                 this.currentSequence = \"down\";\n//                 this.speed.y = 5;\n//                 // this.origin.y = this.origin.y + this.speed;\n//                 break;\n//             case \"a\":\n//                 this.open();\n//                 break;\n//         }\n//     }\n\n//     keyboard_event_up(key) {\n//         this.speed.x = 0;\n//         this.speed.y = 0;\n//       }\n\n//     open() {\n//         let distance = 0;\n//         console.log(\"hola\");\n//         km.keys.forEach((ori) => {\n//             distance = 0;\n//             distance = Math.sqrt(Math.pow(this.origin.x - ori.position.x, 2) + Math.pow(this.origin.y - ori.position.y, 2));\n\n//             if (distance < 30 && !ori.isChestOpen) {\n\n//                 switch (km.lastKey) {\n//                     case \"\":\n//                         ori.isChestOpen = true;\n//                         km.lastKey = ori.id;\n//                         break\n//                     case ori.id:\n//                         ori.isChestOpen = true;\n//                         km.lastKey = \"\";\n//                         break\n//                     default:\n//                         km.keys.forEach(e => e.isChestOpen = false);\n//                         km.lastKey = \"\";\n//                         ori.isChestOpen = true;\n//                         km.lastKey = ori.id;\n//                         break\n//                 }\n//             }\n//         });\n//     }\n// }"},"lineCount":null}},"error":null,"hash":"1e6865105de1229fc42b70506d910ff9","cacheData":{"env":{}}}